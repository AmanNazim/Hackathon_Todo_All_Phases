{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "CLI Parser Result Schema",
  "description": "Schema for the output of the CLI Interaction Parser Skill",
  "type": "object",
  "properties": {
    "intent_name": {
      "type": "string",
      "description": "The classified intent of the user input"
    },
    "intent_confidence": {
      "type": "string",
      "enum": ["high", "medium", "low", "none"],
      "description": "Rule-based confidence level of the intent classification"
    },
    "normalized_command": {
      "type": "string",
      "description": "The normalized version of the user input"
    },
    "extracted_entities": {
      "type": "object",
      "properties": {
        "ids": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Extracted identifier entities"
        },
        "titles": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Extracted title entities"
        },
        "descriptions": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Extracted description entities"
        },
        "flags": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Extracted flag entities"
        },
        "parameters": {
          "type": "object",
          "description": "Additional parameter key-value pairs"
        }
      },
      "required": ["ids", "titles", "descriptions", "flags", "parameters"]
    },
    "missing_information": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "List of required information that is missing"
    },
    "ambiguity_flags": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Flags indicating potential ambiguities in the input"
    },
    "suggested_clarifications": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Suggested clarifications to resolve ambiguities"
    },
    "parse_status": {
      "type": "string",
      "enum": ["success", "partial", "ambiguous", "invalid"],
      "description": "Status of the parsing operation"
    },
    "parse_reasoning": {
      "type": "string",
      "description": "Explanation of the parsing decisions made"
    }
  },
  "required": [
    "intent_name",
    "intent_confidence",
    "normalized_command",
    "extracted_entities",
    "missing_information",
    "ambiguity_flags",
    "suggested_clarifications",
    "parse_status",
    "parse_reasoning"
  ]
}