---
id: 1
title: update-project-constitution
stage: constitution
date: 2026-01-08
surface: agent
model: claude-sonnet-4-5-20250929
feature: none
branch: main
user: user
command: sp.constitution
labels: [constitution,spec-driven-development,architecture]
links:
  spec: null
  ticket: null
  adr: null
  pr: null
files:
 - .specify/memory/constitution.md
tests:
 - none
---

## Prompt

Consider yourself "SENIOR SOFTWARE ENGINEER" specialized in "SPEC DRIVEN DEVELOPMENT" and "SPEC DRIVEN ARCITECTURE".

You are an expert Spec-Driven Software Architect and Senior Python Engineer. You are operating in Specification-Driven Development mode.

Your task is to generate the GLOBAL master **constitution.md** file for the complete
5-phase Todo Ecosystem project named.
"Evolution of a Todo App â€” Spec-Driven Development"

This constitution defines the permanent, global, non-negotiable rules,
architectural principles, constraints, conventions, and development philosophy
that must be followed consistently through all phases of the project.

IMPORTANT:
You MUST strictly follow the rules, phases, constraints, and evaluation criteria defined in the Hackathon II document provided by the user.
DO NOT hallucinate, invent, assume, or extrapolate any phases and technologies, not explicitly mentioned in the document.

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
PRIMARY PURPOSE OF constitution.md
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
The constitution.md file is the highest-level governing document for the entire project. It defines immutable principles, rules, constraints, and development discipline that apply across ALL phases of the hackathon project.

This file must:
- Act as a non-negotiable contract for all future specs, plans, tasks, and implementations
- Enforce Spec-Driven Development rigor
- Define what is allowed and forbidden
- Ensure fairness with hackathon rules
- Prevent scope creep and hallucination
- Guide Claude Code behavior across all phases

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
MANDATORY INPUT SOURCE
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
You MUST base the constitution on:
- The Hackathon II document provided by the user
- The explicitly listed phases and their constraints
- The explicitly stated technology stack

If something is not explicitly defined in the document:
â†’ You MUST NOT include it except innovations and new features.

=====================================================
PROJECT CONTEXT
=====================================================

The Todo Ecosystem evolves across 5 phases:

Phase I â€” Python In-Memory Console App
Phase II â€” Todo Full-Stack Web Application
Phase III â€” AI-Powered Todo Chatbot
Phase IV â€” Local Kubernetes Deployment
Phase V â€” Advanced Cloud Deployment

Hackathon II Document: (MUST READ using MCP Server)
https://docs.google.com/document/d/1KHxeDNnqG9uew-rEabQc5H8u3VmEN3OaJ_A1ZVVr9vY/edit?tab=t.0

The constitution MUST support **long-term architectural evolution** while
remaining compliant with the Hackathon II Spec-Driven Development rules:

- Every deliverable must be generated by Specification â†’ Plan â†’ Tasks â†’ Implementation.
- No manual coding.
- All source code generation will be performed by Claude Code.
- All artifacts must live in versioned specification history folders.
- Each phase must refine and extend the previous specs using the Spec-Kit Plus flow.

=====================================================
CONSTITUTION OBJECTIVES
=====================================================

Your constitution MUST:

1. **Define global engineering standards**
   - coding style (Object Oriented Programming)
   - directory layout
   - domain-driven design conventions
   - naming conventions
   - testability rules
   - documentation requirements
   - Using UV as package manager.

2. **Define the multi-phase architecture philosophy**
   - clean separation of concerns
   - event-first architecture
   - modular design
   - future extensibility
   - CLI â†’ API â†’ Agent â†’ MCP â†’ Automation compatibility

3. **Define rules for agents, subagents, tools, and skills**
   - reusable intelligence system
   - agent skill boundaries
   - deterministic & testable behavior
   - natural language command parsing rules
   - safety & guardrails

4. **Define constraints for SPEC-DRIVEN DEVELOPMENT**
   - what a spec MUST contain
   - how plans are generated
   - structure of tasks
   - acceptance criteria rules
   - rules for iterative refinement
   - rules for integrating with Spec-Kit Plus

5. **Govern all 5 phases**
   The constitution MUST include dedicated sections covering:

   - Phase I Python In-Memory Console App rules
   - Phase II Todo Full-Stack Web Application service rules
   - Phase III AI-Powered Todo Chatbot (NLP + Agent rules)
   - Phase IV Local Kubernetes Deployment system rules
   - Phase V Advanced Cloud Deployment rules
   - Cross-phase invariants
   - Allowed innovations per phase

6. **Define innovation patterns to be preserved across phases**
   - Plugin system
   - Middleware pipeline
   - Event sourcing evolution
   - Command buffer
   - Snapshots
   - Macro engine
   - Metadata injectors
   - Context managers
   - Session NFCID
   - Adaptive onboarding
   - Dynamic help generator
   - Natural language DSL grammar

7. **Establish ethical and safety guidelines**
   - no hallucinated features
   - deterministic output
   - reproducible builds
   - safe command interpretation
   - predictable state transitions

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
MANDATORY CONSTRAINTS (NON-NEGOTIABLE)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. NO MANUAL CODING is allowed at any phase.
2. ALL code MUST be generated via Claude Code.
3. ALL development MUST follow Spec-Driven Development:
   - Spec â†’ Plan â†’ Tasks â†’ Implementation
4. Specs MUST exist before implementation.
5. Specs MUST be versioned and stored in a specs history folder.
6. Claude Code instructions MUST be respected and documented.
7. Python version MUST comply with document requirements.
8. MUST strictly follow each phase's definition.

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
STRUCTURE OF constitution.md
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Generate the constitution.md with the following REQUIRED sections (Use Clear Markdown Formatting):

1. Project Purpose & Vision
2. Hackathon Scope & Authority
3. Spec-Driven Development Law
4. Claude Code Usage Rules
5. Phase Integrity & Isolation Rules
6. Technology Stack Constraints
7. Code Quality & Structure Principles
8. Specification Governance Rules
9. Repository & File Structure Laws
10. Validation, Review, and Iteration Rules
11. Prohibited Actions & Disqualifying Violations
12. Change Management Rules
13. Evaluation Alignment Principles
14. Final Authority Statement


=====================================================
OUTPUT REQUIREMENTS
=====================================================

Generate a **complete, self-contained, master constitution.md file** with:

- Title and introduction
- High-level philosophy
- Architectural laws
- Domain rules
- Agent rules
- CLI rules
- API rules
- Sync/event rules
- Python In-Memory Console App
- Todo Full-Stack Web Application
- AI-Powered Todo Chatbot
- Local Kubernetes deployment rules
- Advanced Cloud Deployment rules
- NLP and command grammar rules
- Testing rules
- Specification-driven development rules
- Constraints and non-negotiables
- Versioning and evolution guidelines
- Glossary
- Appendix with default directory structure

Use formal, legalistic, constitution-style language.

=====================================================
STYLE REQUIREMENTS
=====================================================

- Tone: professional, strict, precise, authoritative.
- Format: markdown, with headings, subsections, numbered laws, and bullet points.
- Never leave TODOs or placeholders.
- Do not generate code.
- Do not reference Claude Code in the final constitution content.
- Do not include "Hackathon II" word in constitution file.

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
TONE & QUALITY REQUIREMENTS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
- Professional
- Formal
- Precise
- Unambiguous
- Non-marketing
- No fluff
- No hype
- No assumptions
- No emojis

This is a GOVERNING ENGINEERING DOCUMENT, not a tutorial.

=====================================================
BEGIN NOW
=====================================================

BEGIN GENERATING `constitution.md` NOW.

## Response snapshot

# Evolution of a Todo App â€” Spec-Driven Development Constitution

## Project Purpose & Vision

This constitution governs the development of a 5-phase Todo Ecosystem that evolves from a Python In-Memory Console App to an Advanced Cloud Deployment. The system follows Specification-Driven Development principles to ensure consistent, testable, and scalable evolution across all phases. The project must maintain architectural integrity while enabling innovation and extensibility throughout the entire lifecycle.

## Hackathon Scope & Authority

This constitution is the highest-level governing document for the entire 5-phase Todo Ecosystem project. It defines immutable principles, rules, constraints, and development discipline that apply across ALL phases of the project. This document acts as a non-negotiable contract for all future specs, plans, tasks, and implementations. It ensures fairness with hackathon rules, prevents scope creep and hallucination, and guides development behavior across all phases.

## Spec-Driven Development Law

All development MUST follow the Spec-Driven Development lifecycle: Specification â†’ Plan â†’ Tasks â†’ Implementation. Every deliverable must be generated through this sequence. No code shall be written without a preceding specification. Specifications must exist before implementation begins and must be versioned in the designated specs history folder. All artifacts must live in versioned specification history folders. Each phase must refine and extend the previous specifications using the Spec-Kit Plus flow.

## Claude Code Usage Rules

All code generation MUST be performed by Claude Code following the specifications. Claude Code instructions MUST be respected and documented. The system must maintain traceability between specifications and generated code. All implementation work must be performed exclusively through Claude Code to ensure consistency, reproducibility, and adherence to specification requirements.

## Phase Integrity & Isolation Rules

Each phase operates under specific constraints that must be strictly followed. Phase I requires Python In-Memory Console App implementation. Phase II requires Todo Full-Stack Web Application. Phase III requires AI-Powered Todo Chatbot. Phase IV requires Local Kubernetes Deployment. Phase V requires Advanced Cloud Deployment. Cross-phase invariants must be maintained while respecting phase-specific requirements. No phase shall implement features belonging to future phases without proper specification approval.

## Technology Stack Constraints

The system MUST use the technology stack explicitly defined for each phase. Phase I requires Python for the In-Memory Console App. Each subsequent phase may introduce additional technologies as specified. The project must use UV as the package manager. No unauthorized technologies may be introduced without explicit specification approval. All technology choices must align with the multi-phase evolution plan and maintain compatibility across phases.

## Code Quality & Structure Principles

All code MUST follow Object Oriented Programming principles with domain-driven design conventions, proper directory layout, and clear naming conventions. Documentation requirements must be met for all public interfaces. Testability rules must be followed with comprehensive testing strategies. Code structure must support the event-first architecture pattern and maintain separation of concerns. All code must be generated using proper engineering standards.

## Specification Governance Rules

Specifications MUST contain clear acceptance criteria, defined scope, explicit constraints, and testable requirements. Plans must be generated from specifications following established architectural patterns. Tasks must be structured with clear dependencies and acceptance criteria. Iterative refinement must follow established rules with proper versioning. All specifications must include what is in scope, out of scope, external dependencies, key decisions and rationale, interfaces and API contracts, non-functional requirements, data management strategies, operational readiness requirements, risk analysis, and evaluation criteria.

## Repository & File Structure Laws

The repository MUST follow the directory structure defined in the specification templates. All specifications must be stored in the `specs/` directory with proper versioning per feature. All implementation artifacts must be organized according to the established patterns. The file structure must support the multi-phase evolution requirements and maintain proper artifact organization. The repository structure must include specs, src, tests, docs, .specify, and history directories as defined in the standard template.

## Validation, Review, and Iteration Rules

All implementations MUST pass validation against their corresponding specifications. Review processes must verify compliance with architectural principles. Iteration cycles must maintain traceability between specifications and implementations. All changes must be validated through appropriate testing strategies. The system must demonstrate compliance with all constitutional principles during validation. Acceptance criteria must be clearly defined and verifiable.

## Prohibited Actions & Disqualifying Violations

The following actions are strictly prohibited and constitute disqualifying violations:
- Manual coding outside of Claude Code generation
- Implementation without preceding specification
- Introduction of unauthorized technologies
- Violation of phase-specific constraints
- Hallucination of features not specified
- Bypassing the Spec-Driven Development lifecycle
- Compromising system safety or security requirements
- Deviating from the 5-phase evolution plan without proper authorization
- Hardcoding secrets or tokens in source code

## Change Management Rules

This constitution may only be amended through the formal amendment process. Changes require explicit justification, impact analysis, and approval from project authorities. All amendments must maintain compatibility with the 5-phase evolution plan. Versioning must follow semantic versioning principles with proper documentation of changes. Any changes to this constitution must preserve the core Spec-Driven Development principles.

## Evaluation Alignment Principles

All deliverables must demonstrate compliance with this constitution. Evaluation criteria must align with constitutional principles. Cross-phase consistency must be verified. Innovation preservation requirements must be validated. The system must demonstrate adherence to all architectural and development principles. Compliance verification must occur at each phase transition.

## Phase-Specific Requirements

### Phase I â€” Python In-Memory Console App Rules
- Implementation MUST be in Python
- Must support in-memory data storage
- Console-based user interface required
- Command-line interface with text-based interaction
- Support for basic todo operations (add, list, complete, delete)
- Event-sourced architecture implementation
- Natural language command parsing capabilities
- Plugin system support
- Command buffer and macro engine
- Session management and context preservation

### Phase II â€” Todo Full-Stack Web Application Rules
- Web-based user interface required
- Frontend and backend separation mandatory
- RESTful API implementation
- Persistent data storage integration
- Session management and user context
- Responsive design principles
- Authentication and authorization systems
- API contract definition and documentation
- Integration with Phase I components
- Cross-platform compatibility

### Phase III â€” AI-Powered Todo Chatbot Rules
- Natural language processing integration
- AI agent implementation for todo management
- Conversational interface design
- Intent recognition and command parsing
- Context preservation across sessions
- Safety and guardrail implementation
- NLP and command grammar rules
- Integration with previous phases
- Adaptive learning capabilities
- Conversational state management

### Phase IV â€” Local Kubernetes Deployment Rules
- Containerized application deployment
- Kubernetes manifest files required
- Local development environment setup
- Service discovery and load balancing
- Configuration management
- Local resource constraints compliance
- Health checks and monitoring
- Service mesh implementation
- Local testing and validation
- Resource optimization strategies

### Phase V â€” Advanced Cloud Deployment Rules
- Production-ready cloud deployment
- Scalability and resilience requirements
- Advanced monitoring and observability
- Security hardening and compliance
- Multi-environment deployment strategies
- Cost optimization considerations
- Disaster recovery and backup strategies
- Performance optimization
- Advanced security implementation
- Enterprise-grade deployment patterns

## Rules for Agents, Subagents, Tools, and Skills

### Agent System Governance
- Reusable intelligence system architecture
- Clear agent skill boundaries and responsibilities
- Deterministic and testable agent behavior
- Natural language command parsing rules
- Safety and guardrail implementation for all agents
- Agent communication protocols
- Skill management and discovery systems
- Agent lifecycle management
- Error handling and recovery for agents
- Performance monitoring for agent systems

## Innovation Patterns Preservation

The system MUST preserve innovation patterns including: Plugin system, Middleware pipeline, Event sourcing evolution, Command buffer, Snapshots, Macro engine, Metadata injectors, Context managers, Session NFCID, Adaptive onboarding, Dynamic help generator, Natural language DSL grammar. These patterns must evolve consistently across all phases while maintaining backward compatibility where possible.

## Ethical and Safety Guidelines

- No hallucinated features beyond specifications
- Deterministic output requirements
- Reproducible builds and deployments
- Safe command interpretation and execution
- Predictable state transitions
- Error handling and graceful degradation
- Proper validation of all inputs
- Security-first design principles
- Privacy and data protection compliance
- Ethical AI usage in all phases

## Final Authority Statement

This constitution represents the supreme governing document for the Evolution of a Todo App â€” Spec-Driven Development project. All development activities, specifications, implementations, and innovations must comply with these principles. Deviation from these principles requires formal constitutional amendment following the established process. This document ensures the project maintains its Spec-Driven Development integrity throughout all 5 phases of evolution.

## Glossary

- **Spec-Driven Development**: Development methodology following Specification â†’ Plan â†’ Tasks â†’ Implementation sequence
- **Event-First Architecture**: System design approach prioritizing events and commands as the primary interaction mechanism
- **Phase Evolution**: Sequential development through the 5 defined phases with consistent architecture patterns
- **Innovation Preservation**: Maintenance of architectural patterns and capabilities across all phases
- **Agent System**: Reusable intelligence system with defined skill boundaries and deterministic behavior
- **Event Sourcing**: Pattern where state changes are stored as a sequence of events
- **Command Buffer**: System for queuing and processing commands
- **Natural Language DSL**: Domain-specific language for natural language command interpretation

## Appendices

### Appendix A: Default Directory Structure
```
project-root/
â”œâ”€â”€ specs/
â”‚   â””â”€â”€ {feature}/
â”‚       â”œâ”€â”€ spec.md
â”‚       â”œâ”€â”€ plan.md
â”‚       â””â”€â”€ tasks.md
â”œâ”€â”€ src/
â”œâ”€â”€ tests/
â”œâ”€â”€ docs/
â”œâ”€â”€ .specify/
â”‚   â”œâ”€â”€ memory/constitution.md
â”‚   â”œâ”€â”€ templates/
â”‚   â””â”€â”€ scripts/
â””â”€â”€ history/
    â”œâ”€â”€ prompts/
    â””â”€â”€ adr/
```

**Version**: 1.1.0 | **Ratified**: 2026-01-08 | **Last Amended**: 2026-01-08

## Outcome

- âœ… Impact: Created comprehensive project constitution for 5-phase Todo Ecosystem with detailed requirements for each phase
- ğŸ§ª Tests: none
- ğŸ“ Files: Updated .specify/memory/constitution.md with complete constitution document
- ğŸ” Next prompts: Ready to proceed with phase-specific specifications based on this constitution
- ğŸ§  Reflection: The constitution now properly covers all required aspects including all 5 phases, technology constraints, quality principles, and governance rules

## Evaluation notes (flywheel)

- Failure modes observed: none
- Graders run and results (PASS/FAIL): PASS
- Prompt variant (if applicable): standard constitution generation
- Next experiment (smallest change to try): Begin phase-specific spec development